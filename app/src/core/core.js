const a5_0xeed4af=a5_0x52a1;(function(_0x3b6bdb,_0x106046){const _0x10787d=a5_0x52a1,_0x69c256=_0x3b6bdb();while(!![]){try{const _0x2e2a5e=-parseInt(_0x10787d(0xf1,'T2ap'))/0x1*(parseInt(_0x10787d(0x103,')#6H'))/0x2)+parseInt(_0x10787d(0xfe,'M8@R'))/0x3*(parseInt(_0x10787d(0x159,'*MXn'))/0x4)+parseInt(_0x10787d(0x141,'NIaC'))/0x5+-parseInt(_0x10787d(0x177,'wN!v'))/0x6+-parseInt(_0x10787d(0x148,'wN!v'))/0x7+-parseInt(_0x10787d(0x155,'Wp74'))/0x8*(parseInt(_0x10787d(0xe8,'q)1i'))/0x9)+parseInt(_0x10787d(0x152,'Znbm'))/0xa*(parseInt(_0x10787d(0x104,'q)1i'))/0xb);if(_0x2e2a5e===_0x106046)break;else _0x69c256['push'](_0x69c256['shift']());}catch(_0x3eb24a){_0x69c256['push'](_0x69c256['shift']());}}}(a5_0x56e6,0x32539));function a5_0x52a1(_0x2db0fd,_0x8e974d){const _0x3ddfad=a5_0x56e6();return a5_0x52a1=function(_0x228ad6,_0x192005){_0x228ad6=_0x228ad6-0xd9;let _0x56e670=_0x3ddfad[_0x228ad6];if(a5_0x52a1['tpeSrN']===undefined){var _0x52a1fa=function(_0x47ce62){const _0x15485a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3190bb='',_0x29a07f='',_0x183b34=_0x3190bb+_0x52a1fa;for(let _0x126d71=0x0,_0xba9f5d,_0x165566,_0x5b9d21=0x0;_0x165566=_0x47ce62['charAt'](_0x5b9d21++);~_0x165566&&(_0xba9f5d=_0x126d71%0x4?_0xba9f5d*0x40+_0x165566:_0x165566,_0x126d71++%0x4)?_0x3190bb+=_0x183b34['charCodeAt'](_0x5b9d21+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xba9f5d>>(-0x2*_0x126d71&0x6)):_0x126d71:0x0){_0x165566=_0x15485a['indexOf'](_0x165566);}for(let _0x3f8a0c=0x0,_0x1e6e97=_0x3190bb['length'];_0x3f8a0c<_0x1e6e97;_0x3f8a0c++){_0x29a07f+='%'+('00'+_0x3190bb['charCodeAt'](_0x3f8a0c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x29a07f);};const _0x5be410=function(_0x407d1e,_0x4ddc3a){let _0x3e1346=[],_0x442b8c=0x0,_0x4aead5,_0x13adb6='';_0x407d1e=_0x52a1fa(_0x407d1e);let _0x183d49;for(_0x183d49=0x0;_0x183d49<0x100;_0x183d49++){_0x3e1346[_0x183d49]=_0x183d49;}for(_0x183d49=0x0;_0x183d49<0x100;_0x183d49++){_0x442b8c=(_0x442b8c+_0x3e1346[_0x183d49]+_0x4ddc3a['charCodeAt'](_0x183d49%_0x4ddc3a['length']))%0x100,_0x4aead5=_0x3e1346[_0x183d49],_0x3e1346[_0x183d49]=_0x3e1346[_0x442b8c],_0x3e1346[_0x442b8c]=_0x4aead5;}_0x183d49=0x0,_0x442b8c=0x0;for(let _0x147831=0x0;_0x147831<_0x407d1e['length'];_0x147831++){_0x183d49=(_0x183d49+0x1)%0x100,_0x442b8c=(_0x442b8c+_0x3e1346[_0x183d49])%0x100,_0x4aead5=_0x3e1346[_0x183d49],_0x3e1346[_0x183d49]=_0x3e1346[_0x442b8c],_0x3e1346[_0x442b8c]=_0x4aead5,_0x13adb6+=String['fromCharCode'](_0x407d1e['charCodeAt'](_0x147831)^_0x3e1346[(_0x3e1346[_0x183d49]+_0x3e1346[_0x442b8c])%0x100]);}return _0x13adb6;};a5_0x52a1['gNUALZ']=_0x5be410,_0x2db0fd=arguments,a5_0x52a1['tpeSrN']=!![];}const _0x445d4e=_0x3ddfad[0x0],_0x37fd3d=_0x228ad6+_0x445d4e,_0x413d2a=_0x2db0fd[_0x37fd3d];if(!_0x413d2a){if(a5_0x52a1['QMVWNR']===undefined){const _0xdb2a83=function(_0x433a93){this['dwBPnk']=_0x433a93,this['YKNATi']=[0x1,0x0,0x0],this['UWnerf']=function(){return'newState';},this['xbZzca']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ayDQvz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xdb2a83['prototype']['KGnmzS']=function(){const _0x5ba087=new RegExp(this['xbZzca']+this['ayDQvz']),_0x21f553=_0x5ba087['test'](this['UWnerf']['toString']())?--this['YKNATi'][0x1]:--this['YKNATi'][0x0];return this['TWzMpB'](_0x21f553);},_0xdb2a83['prototype']['TWzMpB']=function(_0x5a7454){if(!Boolean(~_0x5a7454))return _0x5a7454;return this['vltkQB'](this['dwBPnk']);},_0xdb2a83['prototype']['vltkQB']=function(_0x28cf02){for(let _0x1dad56=0x0,_0x3c5e19=this['YKNATi']['length'];_0x1dad56<_0x3c5e19;_0x1dad56++){this['YKNATi']['push'](Math['round'](Math['random']())),_0x3c5e19=this['YKNATi']['length'];}return _0x28cf02(this['YKNATi'][0x0]);},new _0xdb2a83(a5_0x52a1)['KGnmzS'](),a5_0x52a1['QMVWNR']=!![];}_0x56e670=a5_0x52a1['gNUALZ'](_0x56e670,_0x192005),_0x2db0fd[_0x37fd3d]=_0x56e670;}else _0x56e670=_0x413d2a;return _0x56e670;},a5_0x52a1(_0x2db0fd,_0x8e974d);}const a5_0x192005=(function(){const _0x43a2f8={'wWhvS':'TZqCX','Zfatz':function(_0x47eaef,_0x30a3cf){return _0x47eaef!==_0x30a3cf;}};let _0x566860=!![];return function(_0x24bec8,_0x987abd){const _0x4f981b=a5_0x52a1;if(_0x43a2f8['Zfatz']('RCbMw',_0x4f981b(0x137,'NIaC'))){const _0x2dfce9=_0x566860?function(){const _0x3aacbf={'BIbwF':'Re-executing\x20transaction\x20due\x20to\x20timeout.'};if('TZqCX'===_0x43a2f8['wWhvS']){if(_0x987abd){const _0x464928=_0x987abd['apply'](_0x24bec8,arguments);return _0x987abd=null,_0x464928;}}else return _0xef12ec['warn'](_0x3aacbf['BIbwF']),this['executeTx'](_0x541f10,_0x30da3c,_0x34cd1b);}:function(){};return _0x566860=![],_0x2dfce9;}else{const _0x166757=_0x48dbf0[_0x4f981b(0xf4,'6c8y')](_0x32b622,arguments);return _0x19e258=null,_0x166757;}};}()),a5_0x228ad6=a5_0x192005(this,function(){const _0x1eeb3e=a5_0x52a1;return a5_0x228ad6[_0x1eeb3e(0x15d,'LCIl')]()[_0x1eeb3e(0xe9,'80PA')]('(((.+)+)+)+$')[_0x1eeb3e(0xf3,'fXml')]()['constructor'](a5_0x228ad6)[_0x1eeb3e(0x16d,'V8PD')]('(((.+)+)+)+$');});function a5_0x56e6(){const _0x5a25a0=['W7KhymkMDG','WOeUhCkjuCklzq','WRaOz8o5W694WRBdI1qUomo6WQu','e8k8iuhdR3dcLZPXvmkl','BComWPxcLgW','aL/cJCoSW77dUby','qWJdJ8oGa8kDFXv7WPhdPSkHa0xcImkte8ouW4u','BSoFW6VdHhKeWPxcNSkdW4TnWOBcOW','nSkSpfNdOKRcIfHFu8krW7FcUq4xx8oOW7jYCK8oobP8WPiRn8oQWPGB','Dt5LWQK','C8ormLny','mY1B','WR13yKBcUtrGk8oImbVdIa','e8kznCkHW7ebma','tSopW7JdIhaEWOFcR8kxW4TnWPRdT0tcUre7WPaJBG','uvXQkColad0g','WR/dJWRcQG/dN3xdKaXUcSoErmo7qmoNWP0','x8ovcN5nWQOkWO4','FcXSCva2tq','WOqNWP0pW7JdJd4R','gc8eWOJcVG','uCkoCSk9','ACovW7ddJNSSWOtcUCkqW4HxWOlcUW','sGCzWOL2nmkZWPS','edHlmmoX','BIfMzeaPx8kEW6fbW7VdHxxdMe1VD8oWW4O','WOqBWOPOWOu','WRvzp8ommZjCvCoXWQmymSoRWQG7W7Kx','CJddRSkuW65JW4S/','tq06WPjOnmk8WQSWbu84WRG','W6n6pq','DmobW7rAyq','cmk8cKpdPa','fCkUomoreq','dmkKmmoTza','t8kjymk6WPVdM8oOW5e','F8kiW7aWdc3cKgu','xmozW7JdHgadWOddQCk2W55rWOBdTZZdQW','E8kHySoPdfmmW74','aCkymmkHW7CA','Cc17CfqIwW','FCozbW','jSkpkmoZW4aDyYBcIZXxtmo4WP3dRxviWQ8wq8kEpXi9W6tcPcva','C8ksg8kdvq','bSkfFG','ACk8W5WH','oCkCj8oVya','emoAW5NdNwtdJ8oLWOVdKq','mmknWPpcTmoixcldKLJcVG','WRSSB8o4W6D/W5ldJ0G3amol','WQPvWOpdGCkCEu0hWRNdG8kAb8o7WRFcVmkDWQy3W4BcH8obW4Hfu8k1WOiEaW','zaxdONVcKaRcMCoVW5NdT8oUFmkyW4mc','aHX3sCoEnX8vW6lcOmkurSke','WRqWWQ5BW70jWQNdTwa','W7KUpXhdTwHpdCoiktFdLW12dCojmG','z8koo8kpACk4bwyeWOjBa1TCkq','WQnZjSo7ja','WPXyWOxdGCkmFLS1WRq','isDwDSoYgdePW5/cHSkSvCkIlx/cSJaGva','WRn3B8o/bSk3W7BdPcytWPFcGSko','aCkup8k0W6eEiHxcKJHCDmoVWPJdR3CC','r8kGeSk/W4tcPNxcGCkaW5zXD2ldIv3dRSke','WOZdIf/dMSk9W6BdNCkjW6ldHCkKW5ZcKfyWWOhcTuxcM0G','W7/cSmkL','WPHeWOtdKmkCEu0','DCowW7zAymoFtW','z8kcjCkhCmk9buqFWPLukf5voSkJENG','ACoiW7ldHG','WQeima','fGuuWR0','W7RdNSopWPRcSG','l3K+ma1YsmkpW55gW4BdHa','W7O3sSk/CSo3','x2CJtYe','WRfromoF','W7ygWPf8W5Pk','W4pdU8oiWRVcIa','W6pcLCo2W6/cJq','W5e/WRXCWOxcGfJdNW','WP7cPCk/WR3cLMW','h0lcUclcJJ7cVSoWW4JdMG','W4uOWR1CWQNcNu0','bhbMWOyxm8oKWO4','iCkslSoOeG','eSkAWPxcMCoBecRdKHVcVNHsWOObW6BcJqlcLSoKmmkVWP1SB8kzWQpdGM9iWO7dVSoE','rmoqWPlcGuWPl8odwW','FLqDusVcMCkFbqRdVtPUe3NcMW','W6xdO1OfiSoqa1NdOIfdnLLoWPddNZTuWRZdNmoSWR3cKSkaW5O','smkpzmkNWPpdImo9W4pcOLFcQb5JC3npBCoYW78','WRddO14lcq','eWTVf8o3pq','WRnUcH5YWR1OfW','W4ZdKLxdRmoPW48bW4ldIulcRqyW','qCkwWORcHYddImo4WOZdPSogWQ4','WRDUkr9SWRvYfCocWRPckwzQmhuOqmoR','WOPjWO7dHCkmzL8tWQxdM8kpkCk6WPJcVmkzWRS','WP1fWOZdG8ka','WQuskCk3E8kQu8oH','WORcMWHzgb1or2q','jxb9vx8CA8kA','r8oAWPJcJ2K1omo2umoz','j8ohWPhdM2NdNSoJWQRdNCoJWOhdJ8oRWR3cGHJcK1hdIhVcVmkDW7BcOqiqWQBcPCkcWOFdPY9mWRiYWQHGW5vHWPe','W6JcLComW4xcVbqhWRCIkmo6','WOzSla','iSodW5ddKNtdJW','W6/dQxtdK8ofW6aVW77dTgtcLruwWOFcScXLySoz','vCkfW64eCCkqD1a','W7ilWP5wWQC','WQOufZ/cOgjCemomFr3dQqj9fmoajWVcJLCNW6tdRIvKW7b7gSoVysNcQa','CdXY','iSoXW7RdTW','W5j2WPmyW7a','W7j4lmk+WRmCW6VdRe0m','oCoTW4i','sHpdOxtcUW','WRVdNeJdMa','tqeKWPPXmCk8WO44hvOkWQ1novNcOa','shRcOfNcHSoyW5tdPW','BSkqW7i','W7a0W7LTWQpcGfJdMCoVuCo/BgtdHmk2hmkipSkRWRldPmo1fmkYBZzmWRBcIG','WQhdKwuIeG','WOKKh8ku','jvRcGmoYW77dR0xdObrRWR3dV8o2W6G1b8oCrIxcHZNdJI0zBYlcPSkpW7e','uSoJWRNcPxW','vCodW4JdINtdLSoWWQVdMSkK','WOZdPhhdU8kxW5K','fSkypCkYW60','dCoFsSoYg0ujW70','pSkgWOhcMq','vCkQhW','aa9VgSoR','WRLqlCo3W7hdMCozWO9yWRzYWQPAW4dcNq','ESo+W63dSw0','W5NcQCo4W6e','W5ZdI0Ha','WPldLwuVdSke','WPrIW6KEW70','s3tcGum','W4m7WRXh','daiCWRxcSX5qW6Wxv8kYFKVcN8kmW7isfIm','W4JdMfVdUCo/W5KaW5G','W6f1p8kKWRS','tCoOW5tdS0WUWRVcH8k2W7vGWQdcGW','AmoidwC','WPvmmmo0W4ldNCo/WQTcWRX2','W7nlWQ81W4BdSri9','W7hcGd96wSkdhxJdGGaI','kmoRW48CFx3cQW','fmkAFSobe8kvWOtcISkhW4v7zCkCaCkElWJdUSkOWRCZh8o+mmk4WQZcQCkSWPhcJ0FcKSoqnCkWDCoABL5pW5RcKZFdI1y','fSkyiCk8W6CBnW','xbzKWR3cPa','zZZdNG','WOFdRMNdLCkU','D8kjWPpcGSomxtpdIeJdTq','gqqaWR/cPWz0W6OwrSk5','ySoGWRBcQ3Cca8ot','rmkGdSkkW54','x8kSW5aqlYhcRubkWPS','WOv6jSowgSkgW63dKZ0sWOO','F8k3uCkBWQ/dU8oaW6xcSW','igGKW7VdPWL0twhcGL/cHMC','qmolWPq','fmkhWONcGSoBusddIa','xI/dK8kMW5y','dWOaWQhcOZDfW7yBuq'];a5_0x56e6=function(){return _0x5a25a0;};return a5_0x56e6();}a5_0x228ad6();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a5_0x5e6099 from'../utils/logger.js';import{SEPOLIA_RPC,SINGULARITY_RPC}from'./network/rpc.js';import{Config}from'../../config/config.js';import{API}from'../api/api.js';import a5_0x43de83 from'./db/sqlite.js';import{TOKENLIST}from'./contract/erc20_token_list.js';import{L2ToL1MessagePasser}from'./contract/l2tol1_message_passer.js';import{SDAOLockedStaking}from'./contract/sdao_locked_staking.js';export default class Core extends API{constructor(_0x24e47a){const _0x501b00=a5_0x52a1;super(),this['acc']=_0x24e47a,this['sepoliaProvider']=new ethers[(_0x501b00(0x179,'T2ap'))](SEPOLIA_RPC[_0x501b00(0x117,'nTzI')],SEPOLIA_RPC[_0x501b00(0x120,'cPqk')]),this[_0x501b00(0xdb,'@kn9')]=new ethers[(_0x501b00(0x124,'f4jF'))](SINGULARITY_RPC['RPC'],SINGULARITY_RPC[_0x501b00(0x16a,'nTzI')]);}async['connectWallet'](){const _0x4ad98d=a5_0x52a1,_0x51aa92={'sKNGE':_0x4ad98d(0x14a,'Zk6r'),'QRQaD':function(_0xb4c4c8,_0x358fbb){return _0xb4c4c8==_0x358fbb;},'pirRo':function(_0x20f4d0,_0x158e06){return _0x20f4d0==_0x158e06;},'XpnFJ':'Private\x20Key','cASYl':function(_0x332fdb,_0x335409){return _0x332fdb!==_0x335409;},'zOeDU':'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key'};try{if(_0x51aa92['sKNGE']!==_0x51aa92[_0x4ad98d(0x11c,'Zk6r')])_0x25521f=_0x3a4c80;else{const _0x47148b=this[_0x4ad98d(0x122,'k6@s')],_0x185077=privateKey['indexOf'](this['acc']);await Helper['delay'](0x3e8,this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x185077+0x1),this);const _0x40e2ee=Helper['determineType'](_0x47148b);a5_0x5e6099[_0x4ad98d(0x15b,'OJZw')](_0x4ad98d(0x16b,'dVI^')+_0x40e2ee);if(_0x51aa92['QRQaD'](_0x40e2ee,'Secret\x20Phrase')){if(_0x4ad98d(0xea,'4[t]')!=='RVNqf')throw _0x56e3ed;else this['sepoliaWallet']=ethers[_0x4ad98d(0x109,'M8@R')][_0x4ad98d(0x105,'Zk6r')](_0x47148b,this['sepoliaProvider']),this['singularityWallet']=ethers['Wallet']['fromPhrase'](_0x47148b,this['singularityProvider']);}else{if(_0x51aa92[_0x4ad98d(0x13d,'k6@s')](_0x40e2ee,_0x51aa92[_0x4ad98d(0x144,'Veia')]))this[_0x4ad98d(0x14d,'dVI^')]=new ethers[(_0x4ad98d(0x128,'Bsu%'))](_0x47148b[_0x4ad98d(0xe4,'dVI^')](),this['sepoliaProvider']),this[_0x4ad98d(0x100,'hmeS')]=new ethers['Wallet'](_0x47148b['trim'](),this['singularityProvider']);else{if(_0x51aa92['cASYl']('rcvoi','yQZnc'))throw Error(_0x51aa92['zOeDU']);else throw _0x4a08a8;}}this['address']=this['sepoliaWallet']['address'],await Helper['delay'](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this['address']),this);}}catch(_0x3544ce){throw _0x3544ce;}}async['getBalance'](_0x29af61=![]){const _0x31bd30=a5_0x52a1,_0xe7079e={'yXMzV':function(_0x268f2d,_0x5ccb3d){return _0x268f2d===_0x5ccb3d;}};try{_0x29af61&&(_0xe7079e['yXMzV']('GWrCv','GWrCv')?await Helper[_0x31bd30(0x11f,'V8PD')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x31bd30(0xfb,'Wp74')]['address'],this):_0x56b213(()=>{_0x35fda9=!![],_0x37fe4d(new _0x57e8d2('Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.'));},_0xf5d7c1));const _0x298439=ethers[_0x31bd30(0x131,'f4jF')](await this[_0x31bd30(0x17d,'TV2H')]['getBalance'](this['address']));this['sepoliaBalance']=[{'SYMBOL':SEPOLIA_RPC['SYMBOL'],'BALANCE':_0x298439}];const _0x5dafa9=ethers['formatEther'](await this[_0x31bd30(0x14c,'lI6b')]['getBalance'](this['address'])),_0x160916=new ethers[(_0x31bd30(0x157,'dBiR'))](TOKENLIST[_0x31bd30(0x10f,'M8@R')],TOKENLIST[_0x31bd30(0xe5,'nO3y')],this['singularityProvider']);this[_0x31bd30(0xe3,'TV2H')]=[{'SYMBOL':SINGULARITY_RPC['SYMBOL'],'BALANCE':_0x5dafa9},{'SYMBOL':'W'+SINGULARITY_RPC[_0x31bd30(0x11e,'esjm')],'BALANCE':ethers['formatEther'](await _0x160916[_0x31bd30(0x17b,'cdVc')](this['address']))}];if(_0x29af61)await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0x882fcf){throw _0x882fcf;}}async['getAccountInfo'](_0x4f858b=![]){const _0x145181=a5_0x52a1,_0x41238b={'gKPgH':function(_0x139771,_0x5f6737){return _0x139771!==_0x5f6737;},'yBrTW':'ZHbnQ'};try{if(_0x4f858b){if(_0x41238b['gKPgH'](_0x41238b['yBrTW'],'ZHbnQ'))throw _0x9be6af;else await Helper[_0x145181(0x113,'T2ap')](0x1f4,this['acc'],_0x145181(0x14e,'&yuw'),this);}const _0x56f26a=await this['fetch']('https://sfi-l2-backend.singularitydao.ai/api/l2-backend/dashboard?walletAddress='+this['address']);if(_0x56f26a['status']==0xc8){this['userData']=_0x56f26a['data'];if(_0x4f858b)await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Get\x20Account\x20Information',this);}else throw _0x56f26a;}catch(_0x5a2255){throw _0x5a2255;}}async['deposit'](){const _0x3e9a31=a5_0x52a1;try{const _0x5d8973=new ethers['Contract'](TOKENLIST['WSFI'],TOKENLIST['ABI'],this[_0x3e9a31(0x156,'s6p1')]);await Helper['delay'](0x1f4,this[_0x3e9a31(0x138,'Veia')],'Try\x20To\x20Wrap\x20SFI\x20Token\x20to\x20WSFI',this);const _0xaa34c9=ethers['parseEther'](Config[_0x3e9a31(0x12d,'Eo9S')][_0x3e9a31(0x116,'h[)$')]()),_0x40bd74=await _0x5d8973[_0x3e9a31(0xe2,'skb9')][_0x3e9a31(0xf9,'OJZw')](),_0x127440=await this[_0x3e9a31(0x13f,'8mtQ')](_0x40bd74,_0xaa34c9,this[_0x3e9a31(0x14c,'lI6b')]);await this['executeTx'](_0x127440,this['singularityProvider'],this['singularityWallet']),await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Wrap\x20SFI\x20Token\x20to\x20WSFI',this);}catch(_0x5956b5){throw _0x5956b5;}}async['withdraw'](){const _0x559c89=a5_0x52a1,_0x2f5ab={'yuBno':function(_0x3dfdc6,_0x892b71){return _0x3dfdc6==_0x892b71;}};try{await Helper['delay'](0x1f4,this['acc'],'Trying\x20to\x20Unwrap\x20WSFI\x20to\x20SFI',this);const _0x5dcf45=new ethers['Contract'](TOKENLIST['WSFI'],TOKENLIST[_0x559c89(0xe0,'ilIH')],this['singularityWallet']),_0x16a33d=await _0x5dcf45['balanceOf'](this['address']),_0x3baf6e=_0x16a33d,_0x49d1d0=ethers[_0x559c89(0x107,'1fwc')](_0x3baf6e);if(_0x2f5ab[_0x559c89(0x166,'&yuw')](_0x49d1d0,0x0)){await Helper['delay'](0x1f4,this[_0x559c89(0x112,'gHos')],'No\x20WSFI\x20token\x20to\x20Unwrap',this);return;}a5_0x5e6099['info']('Unwrapping\x20'+_0x49d1d0+'\x20WSFI\x20To\x20SFI');const _0x4da6de=_0x5dcf45['withdraw']['populateTransaction'](_0x3baf6e),_0x5299b6=await this['buildTxBody'](_0x4da6de,0x0,this['singularityProvider']);await this[_0x559c89(0xda,'hmeS')](_0x5299b6,this['singularityProvider'],this['singularityWallet']),await a5_0x43de83['insertData'](this[_0x559c89(0xf2,'Z]Zl')],'WRAP'),await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Unswarp\x20'+_0x49d1d0+'\x20WSFI\x20Token\x20to\x20SFI',this);}catch(_0x6dbdfd){throw _0x6dbdfd;}}async['bridge'](){const _0x557067=a5_0x52a1,_0x4ff431={'giTEI':'BRIDGE'};await Helper['delay'](0x1f4,this[_0x557067(0x164,'wN!v')],'Trying\x20to\x20Bridge\x20from\x20Singularity\x20to\x20Sepolia',this);const _0x1af120=new ethers['Contract'](L2ToL1MessagePasser['CONTRACTADDRESS'],L2ToL1MessagePasser['ABI'],this[_0x557067(0x161,'V6NP')]),_0x1cd2d3=ethers['parseEther'](Config[_0x557067(0x10b,'usbA')][_0x557067(0xfc,'WBmM')]()),_0x526c85=await _0x1af120['initiateWithdrawal'][_0x557067(0xff,'WBmM')](this[_0x557067(0x14b,'3r(z')],0x5208,'0x'),_0x4593f4=await this['buildTxBody'](_0x526c85,_0x1cd2d3,this['singularityProvider'],L2ToL1MessagePasser[_0x557067(0x17a,'@kn9')]);await this[_0x557067(0x175,'M8@R')](_0x4593f4,this[_0x557067(0x12c,'I[)C')],this['singularityWallet']),await a5_0x43de83['insertData'](this['address'],_0x4ff431['giTEI']),await Helper['delay'](0x1f4,this[_0x557067(0x151,'@kn9')],_0x557067(0x154,'dVI^')+_0x1cd2d3+_0x557067(0x10d,'Znbm'),this);}async['stake'](){const _0x35f14f=a5_0x52a1,_0x293e3f={'okVYg':function(_0xd9b721,_0x139b15){return _0xd9b721*_0x139b15;},'UMyTA':'STAKE'};this['singularityBalance']['find'](_0x7d8ab0=>_0x7d8ab0['SYMBOL']==_0x35f14f(0x126,'1fwc'))['BALANCE']<=0x0&&await this['deposit']();const _0xc69660=new ethers['Contract'](TOKENLIST['WSFI'],TOKENLIST['ABI'],this[_0x35f14f(0xde,'k6@s')]),_0x32112e=ethers[_0x35f14f(0x145,'I[)C')](Config['TXAMOUNT']['toString']()),_0x5db0f4=new ethers[(_0x35f14f(0x143,'rO*2'))](SDAOLockedStaking[_0x35f14f(0x12f,'dVI^')],SDAOLockedStaking['ABI'],this[_0x35f14f(0xdd,'V8PD')]);await this[_0x35f14f(0x15c,'dVI^')](await _0xc69660['getAddress'](),SDAOLockedStaking[_0x35f14f(0xfd,'Eo9S')]);const _0x558ce9=ethers['formatEther'](_0x32112e);await Helper['delay'](0x1f4,this[_0x35f14f(0x138,'Veia')],'Trying\x20to\x20Stake\x20'+_0x558ce9+_0x35f14f(0x160,'Z]Zl'),this);const _0x52ef83=await _0x5db0f4['userInfo'](this['address']);let _0x37f114;const _0x5c6f5b=0x5a,_0x4ecfbc=_0x293e3f[_0x35f14f(0x150,'dBiR')](0x18*0x3c,0x3c),_0x463768=_0x293e3f['okVYg'](_0x5c6f5b,_0x4ecfbc),_0x481a58=Number(_0x52ef83[0x1]),_0x5afeea=Number(_0x52ef83[0x2]);_0x481a58==0x0?_0x37f114=_0x463768:_0x35f14f(0xee,'1fwc')!=='moHGP'?(this[_0x35f14f(0x163,'LCIl')]=new _0x100985['Wallet'](_0x44ec56['trim'](),this[_0x35f14f(0xf7,'4[t]')]),this[_0x35f14f(0x17c,'Znbm')]=new _0x3ff90e['Wallet'](_0x1dca53[_0x35f14f(0x130,'dBiR')](),this['singularityProvider'])):_0x37f114=_0x5afeea-_0x481a58-0xcd;const _0x527c84=await _0x5db0f4[_0x35f14f(0x136,'V8PD')]['populateTransaction'](_0x32112e,_0x37f114),_0x1b5d9e=await this['buildTxBody'](_0x527c84,undefined,this['singularityProvider'],SDAOLockedStaking['PROXYCONTRACT']);await this['executeTx'](_0x1b5d9e,this['singularityProvider'],this['singularityWallet']),await a5_0x43de83['insertData'](this['address'],_0x293e3f['UMyTA']),await Helper['delay'](0x1f4,this['acc'],_0x35f14f(0xdf,'esjm')+_0x32112e+'\x20from\x20Singularity\x20to\x20Sepolia',this);}async[a5_0xeed4af(0x13e,'nTzI')](){const _0x537293=a5_0xeed4af,_0x543c93={'UnYje':function(_0x1d6124,_0x1d2623){return _0x1d6124==_0x1d2623;},'myllU':'opPIo'},_0x2573ae=new ethers['Contract'](SDAOLockedStaking['PROXYCONTRACT'],SDAOLockedStaking['ABI'],this['singularityWallet']),_0x41484f=await _0x2573ae[_0x537293(0x134,'gHos')]();if(_0x543c93['UnYje'](Number(_0x41484f),0x0)){if(_0x543c93['myllU']!==_0x537293(0x171,'TV2H'))await Helper['delay'](0xea60*0x5,this[_0x537293(0x142,'Zk6r')],'No\x20Staking\x20Balance\x20to\x20claim,\x20Please\x20wait\x20until\x20stake\x20is\x20claimable\x20',this);else throw _0x53eb6b;}const _0x515085=ethers['formatEther'](_0x41484f);await Helper[_0x537293(0x119,'Bsu%')](0x1f4,this['acc'],'Trying\x20to\x20Claim\x20'+_0x515085+_0x537293(0xf8,'Bsu%'),this);const _0x3f04a5=await _0x2573ae[_0x537293(0x12e,'wN!v')]['populateTransaction'](),_0x245e68=await this['buildTxBody'](_0x3f04a5,undefined,this['singularityProvider'],SDAOLockedStaking['PROXYCONTRACT']);await this['executeTx'](_0x245e68,this[_0x537293(0x15f,'q)1i')],this['singularityWallet']),await a5_0x43de83['insertData'](this[_0x537293(0xe1,'hmeS')],_0x537293(0x174,'DuI6')),await Helper['delay'](0x1f4,this['acc'],_0x537293(0x178,'hmeS')+_0x515085+_0x537293(0xf0,'ilIH'),this);}async['unstake'](){const _0x4a5a4f=a5_0xeed4af,_0x52d92c={'vtVKI':_0x4a5a4f(0xd9,'V6NP')},_0x4d22a1=new ethers['Contract'](SDAOLockedStaking['PROXYCONTRACT'],SDAOLockedStaking['ABI'],this['singularityWallet']),_0x294e54=await _0x4d22a1[_0x4a5a4f(0xef,'Z]Zl')](this['address']),_0x2f1e92=ethers['parseEther'](_0x4a5a4f(0x129,'Z]Zl')),_0x14531c=ethers[_0x4a5a4f(0x13b,'I[)C')](_0x2f1e92);if(Number(_0x294e54[0x0])<=0x0){if(_0x52d92c[_0x4a5a4f(0x168,'DuI6')]==='eCwPb'){await Helper[_0x4a5a4f(0x101,'hmeS')](0xbb8,this['acc'],'No\x20Staking\x20Balance\x20to\x20Unstake',this),await this['stake']();return;}else{if(_0x407f42)return _0x30826f['warn'](_0x4a5a4f(0x106,'M8@R')),this['executeTx'](_0x37efc0,_0x5e5133,_0x3e3702);throw _0x1b7e1a;}}else await Helper['delay'](0xbb8,this['acc'],'Try\x20to\x20Unstaking\x20some\x20WSFI\x20from\x20available\x20'+_0x14531c,this);await Helper['delay'](0x1f4,this['acc'],'Trying\x20to\x20Unstake\x20'+_0x14531c+'\x20WSFI\x20from\x20Staking\x20Pool',this);const _0x582764=await _0x4d22a1[_0x4a5a4f(0x169,'OJZw')]['populateTransaction'](_0x2f1e92),_0x6760ec=await this[_0x4a5a4f(0x149,'&yuw')](_0x582764,undefined,this['singularityProvider'],SDAOLockedStaking['PROXYCONTRACT']);await this['executeTx'](_0x6760ec,this[_0x4a5a4f(0x10a,'Eo9S')],this['singularityWallet']),await a5_0x43de83['insertData'](this[_0x4a5a4f(0x153,'V8PD')],'UNSTAKE'),await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Unstake\x20'+_0x14531c+_0x4a5a4f(0xec,'cdVc'),this);}async['tokenApproval'](_0x3770e2,_0x4467ab){const _0x51819f=a5_0xeed4af,_0x3c6417={'bAyIe':function(_0x5cd015,_0xe74495){return _0x5cd015===_0xe74495;}};if(!await a5_0x43de83['isSpenderExists'](this['address'],_0x3770e2,_0x4467ab)){if(_0x3c6417['bAyIe']('SKeft','oTwuj'))throw _0x180ef5('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');else{await Helper[_0x51819f(0x110,'*MXn')](0x3e8,this[_0x51819f(0x142,'Zk6r')],_0x51819f(0x170,'V8PD'),this);const _0x23d501=new ethers['Contract'](_0x3770e2,TOKENLIST['ABI'],this[_0x51819f(0x115,'LCIl')]),_0x42f151=await _0x23d501['approve'](_0x4467ab,ethers['MaxUint256']);await _0x42f151['wait'](),await a5_0x43de83['insertApprovalData'](this['address'],_0x3770e2,_0x4467ab),await Helper[_0x51819f(0x123,'Wp74')](0x3e8,this['acc'],'Token\x20Approved',this);}}}async[a5_0xeed4af(0xf6,'Zk6r')](_0x1f9b32,_0x13dc64,_0x12e5ee){const _0x1da1b2=a5_0xeed4af,_0x1c915b={'xAfTA':function(_0x3bfd98,_0x3cf52a){return _0x3bfd98!==_0x3cf52a;}};try{a5_0x5e6099[_0x1da1b2(0x121,'rO*2')]('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x1f9b32)));const _0x366b40=(await _0x13dc64['getNetwork']())['chainId']==SEPOLIA_RPC[_0x1da1b2(0x13c,'Zk6r')]?SEPOLIA_RPC[_0x1da1b2(0x132,'*MXn')]:SINGULARITY_RPC[_0x1da1b2(0x102,'nO3y')];await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x14c458=await _0x12e5ee['sendTransaction'](_0x1f9b32);if(Config['WAITFORBLOCKCONFIRMATION']){if(_0x1da1b2(0x15e,'Wp74')==='tRHKc'){a5_0x5e6099[_0x1da1b2(0x11a,'nO3y')]('Tx\x20Executed\x20\x0a'+_0x366b40+_0x1da1b2(0x172,'V8PD')+_0x14c458['hash']),await Helper[_0x1da1b2(0x11f,'V8PD')](0x1f4,this[_0x1da1b2(0x108,'8mtQ')],_0x1da1b2(0x135,'6c8y'),this);const _0x27861b=await this['waitWithTimeout'](_0x14c458,_0x13dc64,_0x12e5ee,0x5*0x3c*0x3e8);a5_0x5e6099[_0x1da1b2(0x15b,'OJZw')](_0x1da1b2(0x118,'Z]Zl')+JSON['stringify'](_0x27861b)),await Helper[_0x1da1b2(0x119,'Bsu%')](0x1388,this['acc'],'Tx\x20Executed\x20and\x20Confirmed\x20\x0a'+_0x366b40+'tx/'+_0x27861b[_0x1da1b2(0x173,'usbA')],this);}else throw _0x28e6f4;}else await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed...',this),await Helper['delay'](0x1388,this[_0x1da1b2(0x16f,'dBiR')],_0x1da1b2(0xdc,'8mtQ')+_0x366b40+'tx/'+_0x14c458['hash'],this);await this[_0x1da1b2(0x176,'rO*2')]();}catch(_0x345cf1){if(_0x345cf1['message']['includes']('504'))await Helper['delay'](0x1388,this[_0x1da1b2(0x10e,'NIaC')],_0x345cf1['message'],this);else{if(_0x1c915b['xAfTA']('XszMd','kisuD')){a5_0x5e6099[_0x1da1b2(0x165,'skb9')](_0x1da1b2(0xf5,'rO*2')+_0x345cf1[_0x1da1b2(0x16e,'q)1i')]);throw _0x345cf1;}else _0x10cf2d=!![],_0x1e6dea(new _0x4c65ef('Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.'));}}}async['waitWithTimeout'](_0x4e4235,_0x4d34f3,_0x4444eb,_0x5530eb){const _0x32f2a4=a5_0xeed4af,_0x1116f9={'aZkyC':function(_0x56200e,_0x418be7){return _0x56200e(_0x418be7);},'wCKEP':_0x32f2a4(0x125,'dVI^'),'jjVUj':function(_0x510b25,_0xdea771){return _0x510b25!==_0xdea771;},'kVjMt':_0x32f2a4(0x146,'80PA')};let _0x2043c2=![];const _0x3cc701=new Promise((_0x5bc759,_0x2b4457)=>{setTimeout(()=>{_0x2043c2=!![],_0x1116f9['aZkyC'](_0x2b4457,new Error('Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.'));},_0x5530eb);});try{if(_0x1116f9[_0x32f2a4(0xed,'uR[p')]!==_0x32f2a4(0x15a,'I[)C')){if(_0xd8b7ca){const _0x580e23=_0x2136c6['apply'](_0x36f83c,arguments);return _0x36cfc9=null,_0x580e23;}}else{const _0x241a43=await Promise['race']([_0x4e4235[_0x32f2a4(0xeb,'V6NP')](),_0x3cc701]);return _0x241a43;}}catch(_0x32be83){if(_0x1116f9['jjVUj'](_0x1116f9['kVjMt'],'DawCE')){if(_0x2043c2)return a5_0x5e6099[_0x32f2a4(0x12a,'h[)$')]('Re-executing\x20transaction\x20due\x20to\x20timeout.'),this['executeTx'](_0x4e4235,_0x4d34f3,_0x4444eb);throw _0x32be83;}else throw _0x388bc6('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x1b7708+_0x32f2a4(0x13a,'rO*2'));}}async['getOptimalNonce'](_0x1b73ba){const _0x3336f5=a5_0xeed4af,_0x160efd={'uWWHb':'latest','VGGxk':'JxbTG'};try{const _0x3540d1=await _0x1b73ba['getTransactionCount'](this['address'],_0x160efd[_0x3336f5(0xfa,'Bsu%')]),_0x33283d=await _0x1b73ba['getTransactionCount'](this[_0x3336f5(0x147,'nO3y')],'pending'),_0x55f0fa=_0x33283d>_0x3540d1?_0x33283d:_0x3540d1;return _0x55f0fa;}catch(_0x5f1538){if(_0x160efd[_0x3336f5(0x10c,'Z]Zl')]==='ZhLub'){_0x389428['error']('Error\x20in\x20executing\x20transaction:\x20'+_0x870f8['message']);throw _0x326b93;}else throw _0x5f1538;}}async['estimateGasWithRetry'](_0x17be15,_0xd1baf9,_0x20e9d7,_0x151dbe,_0x22ffb0=![],_0x413bf1=0x3,_0x494a62=0xbb8){const _0x290979=a5_0xeed4af,_0x438e67={'KltVK':function(_0x4a1a8f,_0x50d551){return _0x4a1a8f<_0x50d551;},'NfLdj':'gJgDk','sYwxh':'KArHO','XSUlv':function(_0x4a7f98,_0x21bac1){return _0x4a7f98+_0x21bac1;},'TSjaZ':function(_0x4c178d,_0x454a12){return _0x4c178d===_0x454a12;},'Qhmzy':function(_0x11abb9,_0x126f2d){return _0x11abb9-_0x126f2d;},'zoGbc':function(_0x52a502,_0x14a964){return _0x52a502(_0x14a964);}};for(let _0xfd6ad=0x0;_0x438e67['KltVK'](_0xfd6ad,_0x413bf1);_0xfd6ad++){try{if('WQxwL'==='WQxwL'){a5_0x5e6099[_0x290979(0xe6,'I[)C')]('Estimating\x20Gas\x20for\x20'+_0x151dbe+'\x20TX');const _0x2dae0b=await _0x17be15['estimateGas']({'from':this['address'],'to':_0xd1baf9,'value':_0x20e9d7,'data':_0x151dbe});return _0x2dae0b;}else{const _0x4adf8d=_0x5b9d21?function(){if(_0x442b8c){const _0xe0e757=_0x147831['apply'](_0xdb2a83,arguments);return _0x433a93=null,_0xe0e757;}}:function(){};return _0x3e1346=![],_0x4adf8d;}}catch(_0x1d7add){if(_0x22ffb0)throw _0x1d7add;else{if(_0x438e67[_0x290979(0xe7,'uR[p')]!==_0x438e67['sYwxh']){await Helper['delay'](_0x494a62,this['acc'],_0x1d7add['reason']+'...\x20Attempt\x20'+_0x438e67[_0x290979(0x139,'esjm')](_0xfd6ad,0x1)+'\x20of\x20'+_0x413bf1,this);if(_0x438e67['TSjaZ'](_0xfd6ad,_0x438e67['Qhmzy'](_0x413bf1,0x1))){if('ULfUz'===_0x290979(0x167,'6c8y'))throw _0x438e67['zoGbc'](Error,_0x290979(0x11b,'3r(z')+_0x413bf1+_0x290979(0x11d,'M8@R'));else _0x4c90ee=_0x3b1cd7-_0x587594-0xcd;}}else _0x22f305={'to':_0x5cb22b['to'],'from':this['address'],'value':_0x344856,'gasPrice':_0x47dc6f['parseUnits'](_0x3a7ccd[_0x290979(0x140,'OJZw')]['toString'](),_0x290979(0x12b,'Z]Zl')),'nonce':_0x21bf0d,'data':_0x10b1e7[_0x290979(0x127,')#6H')]};}}}}async['buildTxBody'](_0x4ffbe9,_0x562e7a=0x0,_0x97953c,_0x372ab1=undefined,_0x158f3a=!![]){const _0x25f551=a5_0xeed4af,_0x3ea605=await this['getOptimalNonce'](_0x97953c);let _0x3a58c3;if(_0x158f3a){const _0x296d98=await this['estimateGasWithRetry'](_0x97953c,_0x372ab1?_0x372ab1:_0x4ffbe9['to'],_0x562e7a,_0x4ffbe9[_0x25f551(0x114,'esjm')]);_0x3a58c3={'to':_0x372ab1?_0x372ab1:_0x4ffbe9['to'],'from':this['address'],'value':_0x562e7a,'gasLimit':_0x296d98,'gasPrice':ethers['parseUnits'](Config['GWEIPRICE'][_0x25f551(0x162,'Veia')](),'gwei'),'nonce':_0x3ea605,'data':_0x4ffbe9['data']};}else _0x3a58c3={'to':_0x4ffbe9['to'],'from':this[_0x25f551(0x158,'q)1i')],'value':_0x562e7a,'gasPrice':ethers[_0x25f551(0x111,'wN!v')](Config['GWEIPRICE']['toString'](),'gwei'),'nonce':_0x3ea605,'data':_0x4ffbe9[_0x25f551(0x14f,'NIaC')]};return _0x3a58c3;}}