const a5_0xb970ad=a5_0x20d7;function a5_0x12bc(){const _0x3ee03d=['W7xdMmoGia','wCk9W6TVW4RdR8o8W61olZXdW6u','WPpdNSoVW6qaWQldTJ3dGtG','ASk5WP3dMW','aSkqWOFcV8o6W5JdMLFdImk/W6hcGmo/','W4KmqN8','cI1t','oe1y','WQ/cNJT1ddxdQcS','W7RdHb8','bCkRW4bWWPRcVSkeWQPxoSkGzMe3','A8oRfa','WQhcG1PPWODWmI3dPXLGW6K','W6pdMqC2W4iKpsZdNXD3W5tcKCkgBmktWPiKwW','aCk3WQVcHmogW6JdPN/dQCkbW4ZcUSklDSoTW6RdUH7cRmouW7W','iZjoWRJcVSolWOxdJfhdTmoacmoTW5TMELpcGCoN','WQKQWR4Tya','FSkNWPBdLCo2a8oiW47cRmoxdu7cTCoBCCk+fW','WPZcN8kdWQK9qKBcVSk5W7PxW7ZcUCkTW4K','W7hdKWO','W69NAquvocm','uCoxpSkShq','W7JdK8kmieHzjhBdPhNdJG','uSoZW40','WQ7cQw0','W4VdPCofbxldGSoOuG','W4FcTfFcLx7dU1FcLKFcLb5gW5K','W4PCWRHglSk5bmoPveW','WOVcMeFdJSovW5Lhl2HrC8olfSo/W5m','W4bSlsqekJTjmWNdGSoCW4RcO8oXwvxcVLhcJ31zW7tcISo5kfFdOmkiWPi0WObZjmoWvxpdT0ulFt3cVwxdJ1lcPSkIWQqnmSkwo8kDW7WckWjRbtfHWQZcGSkLW6q','wCo+i8o6WO1wW6dcVG','ExLOW7ddNhPwgCo9WQhdJLCwtmkrmHGYnSoHiCk8W5e','ahDwcba','WRhcOMq','WR/cJmkvW4LrW7VcL8oH','WQ7cGSo2W5mJ','nf94','WR3dLCoTW4CnWQFdS3pdGZ5MDhddRCkxdZGwWOqMWQzSWOXibuqgW7dcOIlcUIFdQmo6WOvVemkfiMjoaxTS','WQlcSSk2W6/cMdxcLHldK8kEsSkExJPIyxhcPvriW5ZcL8oOcSk0wq','gmoUWRC4WPRcT8kR','W4NdTZ8','WQ5YiCosW71MBSoQWPJcLG','zCk/W4zeW44clMGGWRSG','chvTWRNdMu4','WPBcVSkSW7ZcHdFcKeddRCklx8kLwIiUrMq','ueldNIldO0z8WPVdHa','WOKGufmf','WRxdJc/cVvi','WRRcImoKjL1bfvJcLcHPvfxdVwDaWRFdTHFcPSkSA3asWQ7dKmkxW4y','wCo3WOq','WPRdHJK','r1pdGcRdTa','zSkmW6ldQdXHW4ZcIXZcICo0kcG8W5eZWP3cOGu','WPOEW6qAe8kr','W7OmwNjEwW','rmoHW5JdHCoNoCk5mmoKWRS','gYfaWPBcKCorpGVcLSoaqSoQWQlcIcpdRmovcCkd','WOlcJSksw8olWP9FgmkfoxipW6FcUCokWOxdGfhcOCkUpmktW70','W6VdHCkbW5nnW6ZcLCo7AG','m8kMWQZcLCogW6JdPG','W6NcP8k+tCotW6zzW5XhW6BcTYtcHCokkW','tdxdSSkPd8kYW5q','p8kNWRVcLmocW7ZdSa','WPRcV8oYz8oUWOVcR8kormo8W4/dUG','W7pdImkdiW','sCoNgCoPW7v/iIC','rSoBpmkQeCozzmkLhaRcJg/dPComsNvjW47dUG','rY7dV8kGe8kPW4RcO8olWO/cQG','WO/cRSo8wmokWPHvBmkWeL04W4ZdISoT','t8o6W4ldJmoXgCkfe8o/WR7cTW','rIGir0RcNSkXsSkFW6KBWQ4','WPG7sMRdOG','i8kmW70','DvJdQJldPq','ySotpSkHaCob','ASkRWOZdVCoZg8oaW5hcPmopoNBcUSouEa','W6NdG8kvi0bKpwtdUxldGCocW59EoW','WRtcRSkz','oJnxWRNcU8olWOxdJfldR8ovdSo6W4HKEvVcGG','evpdRsZdI1r0','y8o0W7RdLmkAWQ3cPx7dSCkjW6tcKmoU','WO81WRursCojWRrz','ycpdS8kVaSkjW5VcJ8odW4VcH3ZcNSonsq','WP/dGdBdH8og','WOqKEN00W5xcUftcMCk+','W54ewhLoqW02nSoqwSozW73cNCoVsCkO','WQNcT33dRSodW7T2','W4hdVSk0lSkWW47dPCovbSkHWP3cJSohW5RcMftcONbL','WPaZDgmlW5m','oJpcOGJdMdPOE8khDCoDa8kkaa','WRj2WQtcQCkZW7Pyu8obt8knbCol','W6dcO0BcLghdS1xcTu/cLXWdW47dK8kIWQnJl3bvb8oJW73cJ8otD2PVWR7dQSkJb2TZW4tcSSkVW6RdIhldPmogW4WgW47dNmkrW6ddICoTuq','WR8uWPO/CSo6WPXVWQpcV01MCXKFWR9D','WPhcICk8WRGH','uLPfWPe','krZdHWtdSa1ctCk2','p3vOndu','dYJdOq','uf/dGIZdUe10WO/dLcRcP2zeW64uW7hdGSoMWOO','W6dcGSkkDmoL','WPVcNfRdRSoWW5fDnf1BASohfSoKW6tcQ1xcHmo3','WO4VW5NdS8ktvZObr8oNW6NcUGWXWObcW4W','WOFdKSo1W4euWQldTIhdIYL8s3FdRmkvrG8wWPu','bSkRW5HqWOa','DqNdMCkulSk+W73cR8oWWRNcKMFdPa','WQeVveao','bmkNW5Pv','W6qxW5C','gJpcRq','WQGyWOq3Dmo/WOK','W4ddLmoOW6TTfhhcQSkUW6z1W6i','W7O4D8kkWP49lmomWOJcT8kmA8oy','r8orW4qGW7K','zCkkW7ZdUIvSW5NcNchcJ8oSbdOXW5mPWPFcQa','W5rdestcJLuNWPy5rmol','W4/dN1Xhgr7dUIRdM8keC8oSmbT0emo8W6ndWOuryrfUoKxdKG','cSkOWPS1W5RdQ3VcUXu','WRJcK8oByq','WPNcGuVdMCo3W4rwe0q','W43dTCkJbq','WRTPimoyW5HIFCo5WOlcH8kJs8oRWRChpw/dOX8','WPtcHuhdUKS','dmoUWRu9WOO','bYuEWOJcQSopWPldNhhdO8ofrSku','bCkJWQtcI8ogW68','W47dLmkCjujQFeddPd3dPmoFW5PqlbK','dsFdOYtdJqX/B8kyDq','de1mWPFdS3y','W71MFrGCiJfWlWhcLmo3W4/cQSoI','E3L/','WO/cKeddNCo3W5Xsnvvmz8o+c8oLW5hcRutcJ8oX'];a5_0x12bc=function(){return _0x3ee03d;};return a5_0x12bc();}(function(_0x4622d8,_0x5bcaac){const _0x34a02a=a5_0x20d7,_0x544d89=_0x4622d8();while(!![]){try{const _0x32a14f=parseInt(_0x34a02a(0x21c,'3CYz'))/0x1*(-parseInt(_0x34a02a(0x1f9,'nL#O'))/0x2)+parseInt(_0x34a02a(0x218,'#&5v'))/0x3+parseInt(_0x34a02a(0x1f0,'vk!X'))/0x4+parseInt(_0x34a02a(0x19b,'QVmr'))/0x5*(-parseInt(_0x34a02a(0x1c5,'KOmy'))/0x6)+-parseInt(_0x34a02a(0x1b2,'F#85'))/0x7*(parseInt(_0x34a02a(0x1b6,'AI0z'))/0x8)+-parseInt(_0x34a02a(0x1fa,'a^yF'))/0x9+parseInt(_0x34a02a(0x219,'NCkj'))/0xa*(parseInt(_0x34a02a(0x1cc,'xAT&'))/0xb);if(_0x32a14f===_0x5bcaac)break;else _0x544d89['push'](_0x544d89['shift']());}catch(_0x2aa4b9){_0x544d89['push'](_0x544d89['shift']());}}}(a5_0x12bc,0x1d9d6));const a5_0x22721c=(function(){let _0x11f7d6=!![];return function(_0x573c92,_0x23ffce){const _0x47d9cb=a5_0x20d7;if(_0x47d9cb(0x20a,'vk!X')==='JhYDG'){const _0x2f390e=_0x11f7d6?function(){if(_0x23ffce){const _0x795051=_0x23ffce['apply'](_0x573c92,arguments);return _0x23ffce=null,_0x795051;}}:function(){};return _0x11f7d6=![],_0x2f390e;}else throw _0x3892d3;};}()),a5_0x248083=a5_0x22721c(this,function(){const _0x507119=a5_0x20d7;return a5_0x248083['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a5_0x248083)['search'](_0x507119(0x1e9,')X32'));});a5_0x248083();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a5_0x370d59 from'../utils/logger.js';import{SEPOLIA_RPC,SINGULARITY_RPC}from'./network/rpc.js';import{Config}from'../../config/config.js';import{API}from'../api/api.js';import a5_0x168d5a from'./db/sqlite.js';function a5_0x20d7(_0x528170,_0x47d7e1){const _0x3ae3f2=a5_0x12bc();return a5_0x20d7=function(_0x248083,_0x22721c){_0x248083=_0x248083-0x19a;let _0x12bc98=_0x3ae3f2[_0x248083];if(a5_0x20d7['mNnvhW']===undefined){var _0x20d78a=function(_0x5ae5ef){const _0x39d3ee='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1a9d11='',_0x1d64a1='',_0x560604=_0x1a9d11+_0x20d78a;for(let _0xa614c1=0x0,_0x2c7caf,_0xcbba7e,_0x5584df=0x0;_0xcbba7e=_0x5ae5ef['charAt'](_0x5584df++);~_0xcbba7e&&(_0x2c7caf=_0xa614c1%0x4?_0x2c7caf*0x40+_0xcbba7e:_0xcbba7e,_0xa614c1++%0x4)?_0x1a9d11+=_0x560604['charCodeAt'](_0x5584df+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2c7caf>>(-0x2*_0xa614c1&0x6)):_0xa614c1:0x0){_0xcbba7e=_0x39d3ee['indexOf'](_0xcbba7e);}for(let _0x5135da=0x0,_0x3bc133=_0x1a9d11['length'];_0x5135da<_0x3bc133;_0x5135da++){_0x1d64a1+='%'+('00'+_0x1a9d11['charCodeAt'](_0x5135da)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1d64a1);};const _0x38ba07=function(_0xc2da5,_0xe45124){let _0x7cbf1f=[],_0x5cb8c5=0x0,_0x33fefd,_0x47b9f6='';_0xc2da5=_0x20d78a(_0xc2da5);let _0x50366d;for(_0x50366d=0x0;_0x50366d<0x100;_0x50366d++){_0x7cbf1f[_0x50366d]=_0x50366d;}for(_0x50366d=0x0;_0x50366d<0x100;_0x50366d++){_0x5cb8c5=(_0x5cb8c5+_0x7cbf1f[_0x50366d]+_0xe45124['charCodeAt'](_0x50366d%_0xe45124['length']))%0x100,_0x33fefd=_0x7cbf1f[_0x50366d],_0x7cbf1f[_0x50366d]=_0x7cbf1f[_0x5cb8c5],_0x7cbf1f[_0x5cb8c5]=_0x33fefd;}_0x50366d=0x0,_0x5cb8c5=0x0;for(let _0x19cb1c=0x0;_0x19cb1c<_0xc2da5['length'];_0x19cb1c++){_0x50366d=(_0x50366d+0x1)%0x100,_0x5cb8c5=(_0x5cb8c5+_0x7cbf1f[_0x50366d])%0x100,_0x33fefd=_0x7cbf1f[_0x50366d],_0x7cbf1f[_0x50366d]=_0x7cbf1f[_0x5cb8c5],_0x7cbf1f[_0x5cb8c5]=_0x33fefd,_0x47b9f6+=String['fromCharCode'](_0xc2da5['charCodeAt'](_0x19cb1c)^_0x7cbf1f[(_0x7cbf1f[_0x50366d]+_0x7cbf1f[_0x5cb8c5])%0x100]);}return _0x47b9f6;};a5_0x20d7['zbmasq']=_0x38ba07,_0x528170=arguments,a5_0x20d7['mNnvhW']=!![];}const _0x503ebd=_0x3ae3f2[0x0],_0x44ead5=_0x248083+_0x503ebd,_0x112e48=_0x528170[_0x44ead5];if(!_0x112e48){if(a5_0x20d7['GDcxRg']===undefined){const _0x4e78ce=function(_0x39846b){this['llaXqL']=_0x39846b,this['sxYjwT']=[0x1,0x0,0x0],this['xrQonl']=function(){return'newState';},this['BPAEOg']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['TwSHBR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e78ce['prototype']['WGkRfW']=function(){const _0x65de18=new RegExp(this['BPAEOg']+this['TwSHBR']),_0xe0a8c=_0x65de18['test'](this['xrQonl']['toString']())?--this['sxYjwT'][0x1]:--this['sxYjwT'][0x0];return this['zVYpQN'](_0xe0a8c);},_0x4e78ce['prototype']['zVYpQN']=function(_0x5528c7){if(!Boolean(~_0x5528c7))return _0x5528c7;return this['DfWRhW'](this['llaXqL']);},_0x4e78ce['prototype']['DfWRhW']=function(_0x455192){for(let _0x4d67bc=0x0,_0x14227a=this['sxYjwT']['length'];_0x4d67bc<_0x14227a;_0x4d67bc++){this['sxYjwT']['push'](Math['round'](Math['random']())),_0x14227a=this['sxYjwT']['length'];}return _0x455192(this['sxYjwT'][0x0]);},new _0x4e78ce(a5_0x20d7)['WGkRfW'](),a5_0x20d7['GDcxRg']=!![];}_0x12bc98=a5_0x20d7['zbmasq'](_0x12bc98,_0x22721c),_0x528170[_0x44ead5]=_0x12bc98;}else _0x12bc98=_0x112e48;return _0x12bc98;},a5_0x20d7(_0x528170,_0x47d7e1);}import{TOKENLIST}from'./contract/erc20_token_list.js';import{L2ToL1MessagePasser}from'./contract/l2tol1_message_passer.js';import{SDAOLockedStaking}from'./contract/sdao_locked_staking.js';export default class Core extends API{constructor(_0x299e3a){const _0x430a86=a5_0x20d7;super(),this['acc']=_0x299e3a,this['sepoliaProvider']=new ethers['JsonRpcProvider'](SEPOLIA_RPC[_0x430a86(0x1d2,'F#85')],SEPOLIA_RPC['CHAIN_ID']),this[_0x430a86(0x20c,'nL#O')]=new ethers['JsonRpcProvider'](SINGULARITY_RPC[_0x430a86(0x1c2,'ygVH')],SINGULARITY_RPC[_0x430a86(0x1fb,'Ozc[')]);}async['connectWallet'](){const _0x51f7d8=a5_0x20d7,_0x3cd90a={'VnFyh':function(_0x15bc23,_0x3f19a7){return _0x15bc23===_0x3f19a7;},'PJoTx':_0x51f7d8(0x1cf,'P9eJ')};try{const _0x3b4845=this[_0x51f7d8(0x1bd,'AI0z')],_0x2adf45=privateKey[_0x51f7d8(0x1e7,'y*v$')](this['acc']);await Helper[_0x51f7d8(0x211,'lq9t')](0x3e8,this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x2adf45+0x1),this);const _0x550ba0=Helper['determineType'](_0x3b4845);a5_0x370d59['info'](_0x51f7d8(0x1e6,'e)Tg')+_0x550ba0);if(_0x550ba0=='Secret\x20Phrase')this['sepoliaWallet']=ethers['Wallet']['fromPhrase'](_0x3b4845,this[_0x51f7d8(0x1f6,'BRUH')]),this['singularityWallet']=ethers[_0x51f7d8(0x1e0,'Bj*$')][_0x51f7d8(0x1fe,'2wOP')](_0x3b4845,this['singularityProvider']);else{if(_0x550ba0=='Private\x20Key')this[_0x51f7d8(0x1c4,'oJx*')]=new ethers[(_0x51f7d8(0x1f4,'fQ(#'))](_0x3b4845['trim'](),this['sepoliaProvider']),this[_0x51f7d8(0x1d6,'@RVt')]=new ethers['Wallet'](_0x3b4845['trim'](),this[_0x51f7d8(0x210,'P9eJ')]);else{if(_0x3cd90a[_0x51f7d8(0x1f3,'nL#O')]('zYswG',_0x51f7d8(0x1d8,'2wOP')))this['sepoliaWallet']=_0x4fafb4['Wallet'][_0x51f7d8(0x1d3,'NCkj')](_0x2b068e,this['sepoliaProvider']),this['singularityWallet']=_0x520cf2[_0x51f7d8(0x1a3,'a^yF')]['fromPhrase'](_0x46bb7f,this[_0x51f7d8(0x1b7,'AI0z')]);else throw Error(_0x3cd90a['PJoTx']);}}this['address']=this['sepoliaWallet']['address'],await Helper['delay'](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this['address']),this);}catch(_0x1c4fef){throw _0x1c4fef;}}async[a5_0xb970ad(0x1ac,'P9eJ')](_0xdf0b2=![]){const _0x2ebd20=a5_0xb970ad,_0x4ff658={'LxkAt':_0x2ebd20(0x1d9,'aqUV')};try{if(_0xdf0b2){if(_0x4ff658['LxkAt']===_0x4ff658['LxkAt'])await Helper['delay'](0x1f4,this['acc'],_0x2ebd20(0x1d0,'@RVt')+this['wallet']['address'],this);else throw _0x5621de('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}const _0x56c365=ethers['formatEther'](await this['sepoliaProvider']['getBalance'](this['address']));this['sepoliaBalance']=[{'SYMBOL':SEPOLIA_RPC['SYMBOL'],'BALANCE':_0x56c365}];const _0x54673b=ethers[_0x2ebd20(0x1d4,'FmO%')](await this['singularityProvider']['getBalance'](this['address'])),_0x58f329=new ethers['Contract'](TOKENLIST['WSFI'],TOKENLIST[_0x2ebd20(0x1ce,'vk!X')],this['singularityProvider']);this['singularityBalance']=[{'SYMBOL':SINGULARITY_RPC[_0x2ebd20(0x1d5,'(a7r')],'BALANCE':_0x54673b},{'SYMBOL':'W'+SINGULARITY_RPC['SYMBOL'],'BALANCE':ethers['formatEther'](await _0x58f329['balanceOf'](this['address']))}];if(_0xdf0b2)await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0x35ada2){throw _0x35ada2;}}async[a5_0xb970ad(0x1b4,'lq9t')](_0x33a780=![]){const _0x1b9d15=a5_0xb970ad,_0x2449e5={'eWJug':function(_0x550d8f,_0x1be79f){return _0x550d8f==_0x1be79f;}};try{_0x33a780&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Account\x20Information\x20...',this);const _0x41a87a=await this['fetch']('https://sfi-l2-backend.singularitydao.ai/api/l2-backend/dashboard?walletAddress='+this['address']);if(_0x2449e5[_0x1b9d15(0x1ba,'Ozc[')](_0x41a87a['status'],0xc8)){this['userData']=_0x41a87a['data'];if(_0x33a780)await Helper[_0x1b9d15(0x1fd,'8X6F')](0x1f4,this[_0x1b9d15(0x1b3,'F#85')],'Successfully\x20Get\x20Account\x20Information',this);}else throw _0x41a87a;}catch(_0x33a86b){throw _0x33a86b;}}async['deposit'](){const _0x1f03ad=a5_0xb970ad;try{const _0x2fe178=new ethers[(_0x1f03ad(0x1c8,'k5Zo'))](TOKENLIST[_0x1f03ad(0x19e,'BRUH')],TOKENLIST['ABI'],this['singularityWallet']);await Helper['delay'](0x1f4,this['acc'],'Try\x20To\x20Wrap\x20SFI\x20Token\x20to\x20WSFI',this);const _0x13075c=ethers['parseEther'](Config['TXAMOUNT']['toString']()),_0x2d1bd6=await _0x2fe178['deposit']['populateTransaction'](),_0x31b701=await this[_0x1f03ad(0x1ed,'y*v$')](_0x2d1bd6,_0x13075c,this['singularityProvider']);await this[_0x1f03ad(0x19d,'ygVH')](_0x31b701,this['singularityProvider'],this[_0x1f03ad(0x1bb,'@M(f')]),await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Wrap\x20SFI\x20Token\x20to\x20WSFI',this);}catch(_0x33acc8){throw _0x33acc8;}}async['withdraw'](){const _0x187655=a5_0xb970ad,_0x2f48c5={'OeXtW':'WRAP'};try{await Helper[_0x187655(0x1bf,'fQ(#')](0x1f4,this[_0x187655(0x1c1,'QVmr')],'Trying\x20to\x20Unwrap\x20WSFI\x20to\x20SFI',this);const _0x56dc29=new ethers[(_0x187655(0x1eb,'RENe'))](TOKENLIST['WSFI'],TOKENLIST[_0x187655(0x1cb,'hDM)')],this[_0x187655(0x20f,'^LQ3')]),_0x287ec7=await _0x56dc29['balanceOf'](this['address']),_0x315e59=_0x287ec7,_0x1cae76=ethers['formatEther'](_0x315e59);if(_0x1cae76==0x0){await Helper['delay'](0x1f4,this['acc'],_0x187655(0x1e3,'j7jQ'),this);return;}a5_0x370d59['info']('Unwrapping\x20'+_0x1cae76+'\x20WSFI\x20To\x20SFI');const _0x84e82c=_0x56dc29['withdraw'][_0x187655(0x1b9,'rq&q')](_0x315e59),_0x24f49a=await this['buildTxBody'](_0x84e82c,0x0,this[_0x187655(0x201,')X32')]);await this['executeTx'](_0x24f49a,this['singularityProvider'],this['singularityWallet']),await a5_0x168d5a[_0x187655(0x1e1,'Ev15')](this['address'],_0x2f48c5['OeXtW']),await Helper['delay'](0x1f4,this[_0x187655(0x20b,'FoO7')],_0x187655(0x1b8,'a^yF')+_0x1cae76+'\x20WSFI\x20Token\x20to\x20SFI',this);}catch(_0x2526a6){throw _0x2526a6;}}async[a5_0xb970ad(0x1df,'KOmy')](){const _0x417361=a5_0xb970ad;await Helper['delay'](0x1f4,this['acc'],'Trying\x20to\x20Bridge\x20from\x20Singularity\x20to\x20Sepolia',this);const _0x50b81c=new ethers['Contract'](L2ToL1MessagePasser[_0x417361(0x1ee,'j7jQ')],L2ToL1MessagePasser[_0x417361(0x1f2,'lq9t')],this['singularityWallet']),_0x24bda4=ethers['parseEther'](Config['TXAMOUNT']['toString']()),_0x2ef521=await _0x50b81c[_0x417361(0x1f8,'rq&q')]['populateTransaction'](this[_0x417361(0x1be,'lV7x')],0x5208,'0x'),_0x218570=await this['buildTxBody'](_0x2ef521,_0x24bda4,this[_0x417361(0x1ec,'fQ(#')],L2ToL1MessagePasser['PROXYCONTRACT']);await this[_0x417361(0x1e4,'xAT&')](_0x218570,this[_0x417361(0x1a9,'ygVH')],this['singularityWallet']),await a5_0x168d5a['insertData'](this['address'],'BRIDGE'),await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Bridge\x20'+_0x24bda4+'\x20SFI\x20from\x20Singularity\x20to\x20Sepolia',this);}async['stake'](){const _0x45d8b0=a5_0xb970ad,_0x1d1dc2={'ujgxb':function(_0x19af98,_0x3a23aa){return _0x19af98(_0x3a23aa);},'hoFsW':function(_0x4003c7,_0x35a0e8){return _0x4003c7<=_0x35a0e8;},'TeCQV':function(_0x1dfe83,_0x2138bf){return _0x1dfe83===_0x2138bf;},'tAjxU':function(_0x3c673e,_0x87c39f){return _0x3c673e*_0x87c39f;},'BwBCO':function(_0x31dadd,_0x373226){return _0x31dadd-_0x373226;}};if(_0x1d1dc2['hoFsW'](this[_0x45d8b0(0x21b,'ri#H')][_0x45d8b0(0x214,'lq9t')](_0x446b97=>_0x446b97['SYMBOL']==_0x45d8b0(0x1aa,'Pxk^'))['BALANCE'],0x0)){if(_0x1d1dc2['TeCQV']('HMbIf','HMbIf'))await this[_0x45d8b0(0x217,'Ozc[')]();else throw _0x1d1dc2[_0x45d8b0(0x1ca,'vk!X')](_0x59dbcf,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x53c3e3+'\x20attempts.');}const _0x10c84c=new ethers['Contract'](TOKENLIST['WSFI'],TOKENLIST['ABI'],this['singularityWallet']),_0x34221d=ethers['parseEther'](Config['TXAMOUNT']['toString']()),_0x4d1201=new ethers['Contract'](SDAOLockedStaking['PROXYCONTRACT'],SDAOLockedStaking['ABI'],this['singularityWallet']);await this[_0x45d8b0(0x204,'8)SU')](await _0x10c84c['getAddress'](),SDAOLockedStaking['PROXYCONTRACT']);const _0x5dba76=ethers['formatEther'](_0x34221d);await Helper['delay'](0x1f4,this['acc'],_0x45d8b0(0x1a4,'BRUH')+_0x5dba76+'\x20WSFI',this);const _0x42faac=await _0x4d1201['userInfo'](this['address']);let _0x1bed18;const _0x269c13=0x5a,_0xfa4daf=_0x1d1dc2[_0x45d8b0(0x21a,'QVmr')](0x18*0x3c,0x3c),_0x44fa1b=_0x1d1dc2[_0x45d8b0(0x1f1,'3CYz')](_0x269c13,_0xfa4daf),_0x5e5eaf=Number(_0x42faac[0x1]),_0x35a917=Number(_0x42faac[0x2]);_0x5e5eaf==0x0?_0x1bed18=_0x44fa1b:_0x1bed18=_0x1d1dc2['BwBCO'](_0x35a917,_0x5e5eaf)-0xcd;const _0x312d40=await _0x4d1201['deposit'][_0x45d8b0(0x1e2,'!opU')](_0x34221d,_0x1bed18),_0x344899=await this[_0x45d8b0(0x1c0,'BRUH')](_0x312d40,undefined,this['singularityProvider'],SDAOLockedStaking['PROXYCONTRACT']);await this['executeTx'](_0x344899,this['singularityProvider'],this[_0x45d8b0(0x1ff,'Bj*$')]),await a5_0x168d5a['insertData'](this['address'],'STAKE'),await Helper[_0x45d8b0(0x1fd,'8X6F')](0x1f4,this['acc'],'Successfully\x20Bridge\x20'+_0x34221d+'\x20from\x20Singularity\x20to\x20Sepolia',this);}async[a5_0xb970ad(0x1a5,'FoO7')](){const _0x4f53ae=a5_0xb970ad,_0x3170e0={'HFWVC':function(_0x3ec673,_0x4beba9){return _0x3ec673==_0x4beba9;},'CXKkM':function(_0xd344af,_0x3bae83){return _0xd344af(_0x3bae83);}},_0x56fede=new ethers['Contract'](SDAOLockedStaking['PROXYCONTRACT'],SDAOLockedStaking[_0x4f53ae(0x1cb,'hDM)')],this['singularityWallet']),_0x3a9d1f=await _0x56fede[_0x4f53ae(0x1d1,'sJRl')]();_0x3170e0[_0x4f53ae(0x20d,'e)Tg')](_0x3170e0['CXKkM'](Number,_0x3a9d1f),0x0)&&await Helper['delay'](0xea60*0x5,this['acc'],_0x4f53ae(0x1c7,'lV7x'),this);const _0x121c33=ethers['formatEther'](_0x3a9d1f);await Helper['delay'](0x1f4,this['acc'],'Trying\x20to\x20Claim\x20'+_0x121c33+'\x20WSFI\x20from\x20Staking\x20Reward',this);const _0xbba6f6=await _0x56fede['claim'][_0x4f53ae(0x1de,'ri#H')](),_0x49cb29=await this['buildTxBody'](_0xbba6f6,undefined,this['singularityProvider'],SDAOLockedStaking['PROXYCONTRACT']);await this['executeTx'](_0x49cb29,this[_0x4f53ae(0x19f,'NCkj')],this[_0x4f53ae(0x206,'Ozc[')]),await a5_0x168d5a['insertData'](this['address'],'CLAIM'),await Helper['delay'](0x1f4,this['acc'],_0x4f53ae(0x1da,'t)kM')+_0x121c33+'\x20WSFI\x20',this);}async['unstake'](){const _0x4b338f=a5_0xb970ad,_0x43f3d9=new ethers['Contract'](SDAOLockedStaking[_0x4b338f(0x1ae,'a^yF')],SDAOLockedStaking[_0x4b338f(0x1a8,'@Wxl')],this['singularityWallet']),_0x1979f1=await _0x43f3d9['userInfo'](this['address']),_0x2e4405=ethers['parseEther']('0.001'),_0x58946a=ethers['formatEther'](_0x2e4405);if(Number(_0x1979f1[0x0])<=0x0){await Helper['delay'](0xbb8,this['acc'],'No\x20Staking\x20Balance\x20to\x20Unstake',this),await this['stake']();return;}else await Helper['delay'](0xbb8,this['acc'],'Try\x20to\x20Unstaking\x20some\x20WSFI\x20from\x20available\x20'+_0x58946a,this);await Helper['delay'](0x1f4,this[_0x4b338f(0x215,'yFMN')],'Trying\x20to\x20Unstake\x20'+_0x58946a+_0x4b338f(0x1c9,'vn]7'),this);const _0x34fce2=await _0x43f3d9['withdraw']['populateTransaction'](_0x2e4405),_0x4d74b4=await this[_0x4b338f(0x1ef,'Ev15')](_0x34fce2,undefined,this['singularityProvider'],SDAOLockedStaking[_0x4b338f(0x212,'y*v$')]);await this[_0x4b338f(0x19d,'ygVH')](_0x4d74b4,this['singularityProvider'],this['singularityWallet']),await a5_0x168d5a['insertData'](this['address'],_0x4b338f(0x200,'ygVH')),await Helper[_0x4b338f(0x207,'#&5v')](0x1f4,this[_0x4b338f(0x1b1,'vn]7')],'Successfully\x20Unstake\x20'+_0x58946a+'\x20WSFI\x20',this);}async['tokenApproval'](_0x24c87d,_0x3832fe){const _0x5117e0=a5_0xb970ad;if(!await a5_0x168d5a[_0x5117e0(0x1bc,'#&5v')](this['address'],_0x24c87d,_0x3832fe)){await Helper['delay'](0x3e8,this[_0x5117e0(0x1b0,'!opU')],'Try\x20To\x20Approving\x20Token\x20Spend',this);const _0x9a919c=new ethers['Contract'](_0x24c87d,TOKENLIST[_0x5117e0(0x1f7,'#&5v')],this['singularityWallet']),_0x181501=await _0x9a919c['approve'](_0x3832fe,ethers['MaxUint256']);await _0x181501['wait'](),await a5_0x168d5a['insertApprovalData'](this['address'],_0x24c87d,_0x3832fe),await Helper['delay'](0x3e8,this[_0x5117e0(0x1b5,'RENe')],'Token\x20Approved',this);}}async['executeTx'](_0x282568,_0xd7449c,_0x4b5312){const _0x57c329=a5_0xb970ad,_0x251129={'QZzZC':'OcPfO','nXjLo':'lKQoM','QbzXY':'tJcIW'};try{a5_0x370d59['info']('TX\x20DATA\x20'+JSON[_0x57c329(0x1d7,'nL#O')](Helper['serializeBigInt'](_0x282568)));const _0x74855b=(await _0xd7449c['getNetwork']())['chainId']==SEPOLIA_RPC['CHAIN_ID']?SEPOLIA_RPC['EXPLORER']:SINGULARITY_RPC['EXPLORER'];await Helper[_0x57c329(0x1dd,'nL#O')](0x1f4,this['acc'],_0x57c329(0x1fc,'y*v$'),this);const _0xef3222=await _0x4b5312['sendTransaction'](_0x282568);if(Config['WAITFORBLOCKCONFIRMATION']){a5_0x370d59['info']('Tx\x20Executed\x20\x0a'+_0x74855b+_0x57c329(0x1db,'Ev15')+_0xef3222['hash']),await Helper[_0x57c329(0x1a1,'sJRl')](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0xb9df8=await this['waitWithTimeout'](_0xef3222,_0xd7449c,_0x4b5312,0x5*0x3c*0x3e8);a5_0x370d59['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0xb9df8)),await Helper['delay'](0x1388,this['acc'],_0x57c329(0x19a,'F#85')+_0x74855b+_0x57c329(0x216,'FoO7')+_0xb9df8['hash'],this);}else await Helper['delay'](0x1f4,this[_0x57c329(0x1dc,'8X6F')],_0x57c329(0x203,'FoO7'),this),await Helper['delay'](0x1388,this['acc'],_0x57c329(0x1a2,'rq&q')+_0x74855b+'tx/'+_0xef3222[_0x57c329(0x208,'@Wxl')],this);await this['getBalance']();}catch(_0x417b94){if(_0x417b94['message'][_0x57c329(0x1c3,'Pxk^')]('504')){if(_0x251129['QZzZC']===_0x251129['nXjLo']){const _0x8c9351=_0x4ee135['apply'](_0x394f9a,arguments);return _0x1526fa=null,_0x8c9351;}else await Helper['delay'](0x1388,this['acc'],_0x417b94['message'],this);}else{if(_0x251129['QbzXY']===_0x57c329(0x1cd,'c1WH')){a5_0x370d59['error']('Error\x20in\x20executing\x20transaction:\x20'+_0x417b94[_0x57c329(0x1e8,'a^yF')]);throw _0x417b94;}else this['sepoliaWallet']=new _0x2cfe75[(_0x57c329(0x1a6,'(a7r'))](_0x221e77['trim'](),this[_0x57c329(0x1a7,'lV7x')]),this['singularityWallet']=new _0x4b5f9b['Wallet'](_0x963448[_0x57c329(0x19c,'j7jQ')](),this['singularityProvider']);}}}async[a5_0xb970ad(0x1c6,'ygVH')](_0x5a42de,_0x1da0ec,_0x4f3dd3,_0x1c8ac4){const _0x313167={'TsssE':function(_0x28f27b,_0x508812){return _0x28f27b(_0x508812);},'pAcjN':'Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.','DSaqs':function(_0xc8af85,_0x3c9f9f){return _0xc8af85===_0x3c9f9f;}};let _0x45a2d3=![];const _0x20db15=new Promise((_0x32c3db,_0x172399)=>{setTimeout(()=>{_0x45a2d3=!![],_0x313167['TsssE'](_0x172399,new Error(_0x313167['pAcjN']));},_0x1c8ac4);});try{const _0x41c1bf=await Promise['race']([_0x5a42de['wait'](),_0x20db15]);return _0x41c1bf;}catch(_0x2ebe05){if(_0x45a2d3){if(_0x313167['DSaqs']('nafMg','DBWhy'))_0x4bb103={'to':_0x40a0a9['to'],'from':this['address'],'value':_0x488bec,'gasPrice':_0x1879bc['parseUnits'](_0x5c6459['GWEIPRICE']['toString'](),'gwei'),'nonce':_0x16d001,'data':_0x3108bd['data']};else return a5_0x370d59['warn']('Re-executing\x20transaction\x20due\x20to\x20timeout.'),this['executeTx'](_0x5a42de,_0x1da0ec,_0x4f3dd3);}throw _0x2ebe05;}}async[a5_0xb970ad(0x1f5,'@M(f')](_0x413f72){const _0x2e3b40=a5_0xb970ad;try{const _0x574ef1=await _0x413f72['getTransactionCount'](this['address'],'latest'),_0x38572a=await _0x413f72[_0x2e3b40(0x20e,'ygVH')](this['address'],'pending'),_0x58ee3e=_0x38572a>_0x574ef1?_0x38572a:_0x574ef1;return _0x58ee3e;}catch(_0x1acf60){if('ilPKy'!=='ilPKy')_0x5a5902=!![],_0x5dee43(new _0x522ccb(_0x2e3b40(0x205,'oJx*')));else throw _0x1acf60;}}async['estimateGasWithRetry'](_0x464502,_0x4f188b,_0x2860e7,_0x44811b,_0x51b41e=![],_0x29d788=0x3,_0x380aab=0xbb8){const _0x18102e=a5_0xb970ad,_0x2e426={'CyAPj':function(_0x5a15c2,_0x49e8b9){return _0x5a15c2+_0x49e8b9;}};for(let _0xd0f11f=0x0;_0xd0f11f<_0x29d788;_0xd0f11f++){try{a5_0x370d59[_0x18102e(0x1ea,'BRUH')]('Estimating\x20Gas\x20for\x20'+_0x44811b+'\x20TX');const _0x244806=await _0x464502['estimateGas']({'from':this['address'],'to':_0x4f188b,'value':_0x2860e7,'data':_0x44811b});return _0x244806;}catch(_0x2d6082){if(_0x51b41e)throw _0x2d6082;else{await Helper[_0x18102e(0x1a0,'hDM)')](_0x380aab,this['acc'],_0x2d6082[_0x18102e(0x202,'2wOP')]+'...\x20Attempt\x20'+_0x2e426[_0x18102e(0x213,'2wOP')](_0xd0f11f,0x1)+'\x20of\x20'+_0x29d788,this);if(_0xd0f11f===_0x29d788-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x29d788+'\x20attempts.');}}}}async['buildTxBody'](_0x2ecd41,_0x2be713=0x0,_0x584906,_0xc76b15=undefined,_0xd551a=!![]){const _0x50ad78=a5_0xb970ad,_0x37a712={'ychst':'IflQF'},_0x38aa03=await this['getOptimalNonce'](_0x584906);let _0x28102d;if(_0xd551a){if('IflQF'!==_0x37a712['ychst']){const _0x16ed6a={'EpWpY':function(_0x7cbbe,_0x34f083){return _0x7cbbe(_0x34f083);}};_0x2f1506(()=>{_0x2692c6=!![],_0x16ed6a['EpWpY'](_0x1a06d7,new _0x540226('Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.'));},_0x53654c);}else{const _0xcb4e08=await this['estimateGasWithRetry'](_0x584906,_0xc76b15?_0xc76b15:_0x2ecd41['to'],_0x2be713,_0x2ecd41['data']);_0x28102d={'to':_0xc76b15?_0xc76b15:_0x2ecd41['to'],'from':this['address'],'value':_0x2be713,'gasLimit':_0xcb4e08,'gasPrice':ethers['parseUnits'](Config[_0x50ad78(0x209,'FoO7')]['toString'](),_0x50ad78(0x1ad,'@M(f')),'nonce':_0x38aa03,'data':_0x2ecd41[_0x50ad78(0x1af,'Bj*$')]};}}else _0x28102d={'to':_0x2ecd41['to'],'from':this[_0x50ad78(0x1e5,'a^yF')],'value':_0x2be713,'gasPrice':ethers['parseUnits'](Config['GWEIPRICE']['toString'](),'gwei'),'nonce':_0x38aa03,'data':_0x2ecd41['data']};return _0x28102d;}}